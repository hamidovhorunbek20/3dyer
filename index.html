<!DOCTYPE html>
<html>
  <head>
    <title>3D Yer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
      /* Skrollni yashirish */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  </head>
  <body class="bg-[#000205] overflow-hidden">
    <div class="absolute top-8 w-full text-center z-10 pointer-events-none">
      <h1
        class="text-white text-2xl font-light tracking-[0.4em] uppercase opacity-70"
      >
        Yer sayyorasi
      </h1>
    </div>

    <div class="fixed p-2 z-20">
      <h1
        class="text-white text-2xl font-light tracking-[0.2em] uppercase opacity-70"
      >
        Hamidov Horunbek
      </h1>
    </div>

    <div id="globe-container" class="w-full h-screen"></div>

    <div class="fixed bottom-6 left-0 w-full z-50 px-4">
      <div
        class="w-44 mx-auto bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-2 flex items-center justify-between overflow-x-auto no-scrollbar shadow-2xl"
      >
        <a
          href="index.html"
          class="flex flex-col items-center px-6 py-2 bg-white rounded-xl shadow-lg transition-all scale-105"
        >
          <span
            class="text-black font-bold text-[11px] uppercase tracking-tight"
            >Yer</span
          >
        </a>

        <a
          href="oy.html"
          class="flex flex-col items-center px-4 py-1 rounded-xl transition-all hover:bg-white/10 group"
        >
          <span
            class="text-white/50 group-hover:text-white text-[10px] uppercase tracking-tighter"
            >Oy</span
          >
        </a>
      </div>
    </div>
    <script>
      let scene, camera, renderer, controls, globe, clouds;

      function init() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(
          45,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.z = 2.5;

        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document
          .getElementById("globe-container")
          .appendChild(renderer.domElement);

        const geometry = new THREE.SphereGeometry(1, 64, 64);
        const textureLoader = new THREE.TextureLoader();

        const earthMaterial = new THREE.MeshPhongMaterial({
          map: textureLoader.load(
            "https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_atmos_2048.jpg"
          ),
          bumpMap: textureLoader.load(
            "https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_normal_2048.jpg"
          ),
          bumpScale: 0.05,
          specularMap: textureLoader.load(
            "https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_specular_2048.jpg"
          ),
          specular: new THREE.Color("grey"),
          shininess: 10,
        });
        globe = new THREE.Mesh(geometry, earthMaterial);
        scene.add(globe);

        const cloudGeometry = new THREE.SphereGeometry(1.02, 64, 64);
        const cloudMaterial = new THREE.MeshPhongMaterial({
          map: textureLoader.load(
            "https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_clouds_1024.png"
          ),
          transparent: true,
          opacity: 0.8,
        });
        clouds = new THREE.Mesh(cloudGeometry, cloudMaterial);
        scene.add(clouds);

        const ambientLight = new THREE.AmbientLight(0x404040, 0.8);
        scene.add(ambientLight);

        const sunLight = new THREE.DirectionalLight(0xffffff, 1);
        sunLight.position.set(5, 3, 5);
        scene.add(sunLight);

        const starGeometry = new THREE.BufferGeometry();
        const starMaterial = new THREE.PointsMaterial({
          color: 0xffffff,
          size: 0.007,
        });
        const starVertices = [];
        for (let i = 0; i < 10000; i++) {
          starVertices.push(
            (Math.random() - 0.5) * 20,
            (Math.random() - 0.5) * 20,
            (Math.random() - 0.5) * 20
          );
        }
        starGeometry.setAttribute(
          "position",
          new THREE.Float32BufferAttribute(starVertices, 3)
        );
        scene.add(new THREE.Points(starGeometry, starMaterial));

        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.rotateSpeed = 0.5;
        controls.minDistance = 1.2;
        controls.maxDistance = 5;

        animate();
      }

      function animate() {
        requestAnimationFrame(animate);
        globe.rotation.y += 0.0005;
        clouds.rotation.y += 0.0007;
        controls.update();
        renderer.render(scene, camera);
      }

      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      init();
    </script>
  </body>
</html>
